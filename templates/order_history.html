{% extends 'ebase.html' %}

{% load static %}

{% block title %}
    {% for EBackgroundImage in Titles %}
      {% if EBackgroundImage.page == 'ehome.html' %}
         {{ EBackgroundImage.overtitle }}
      {% endif %}
    {% endfor %}
{% endblock title %} 

{% block content %}
   


<head><!-- HTML !-->

    <link rel="stylesheet" type="text/css" href="{% static 'css/buttonclasse.css' %}">
<style>
/* CSS */
.button-64 {
  align-items: center;
  background-image: linear-gradient(144deg,#AF40FF, #5B42F3 50%,#00DDEB);
  border: 0;
  border-radius: 8px;
  box-shadow: rgba(151, 65, 252, 0.2) 0 15px 30px -5px;
  box-sizing: border-box;
  color: #FFFFFF;
  display: flex;
  font-family: Phantomsans, sans-serif;
  font-size: 20px;
  justify-content: center;
  line-height: 1em;
  max-width: 100%;
  min-width: 140px;
  padding: 3px;
  text-decoration: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  white-space: nowrap;
  cursor: pointer;
}

.button-64:active,
.button-64:hover {
  outline: 0;
}

.button-64 span {
  background-color: rgb(5, 6, 45);
  padding: 16px 24px;
  border-radius: 6px;
  width: 100%;
  height: 100%;
  transition: 300ms;
}

.button-64:hover span {
  background: none;
}

@media (min-width: 768px) {
  .button-64 {
    font-size: 24px;
    min-width: 196px;
  }
}
</style>
</head>

<main>
  <div class = "ecommerce">
          {% for EBackgroundImage in Background %}
     <img class = "ebackgroundimages" src="{{ EBackgroundImage.cover.url }}" alt="{{ EBackgroundImage.title }}">
       <div class="view overlay">
                  <div class="mask rgba-white-slight"></div>
              </div>
    {% endfor %}
    
<br>
  <br>
<div class = "search">


<form class = "searchbar" action="{% url 'showcase:ecommercesearch_results' %}" method="get" style="border-radius: 30px;">
  <input name="q" type="text" placeholder="Search Products..." style="border-radius: 30px;">
</form>
  <br>
  <br>
</div>

      <!--Navbar-->
      <div class="navbarbo">
        
        <!-- Navbar brand -->
        <!--<span class="navbar-brand">Categories:</span>-->

        <!-- Collapse button -->
        <!--<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
          aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>-->

        <!-- Collapsible content -->
        <div class="collapse navbar-collapse" id="basicExampleNav">

          <!-- Links -->
          <ul class="navbarbeo">
              <a class="nav-link" href="#">All     
              </a>
            
              <a class="nav-link" href="#">Gold Tier </a>
            
              <a class="nav-link" href="#">Platinum Tier</a>

              <a class="nav-link" href="#">Emerald Tier</a>
     
              <a class="nav-link" href="#">Diamond Tier</a>
          </ul>
          <!-- Links -->

          <form class="form-inline">
            <div class="md-form my-0">
              <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
            </div>
          </form>
        </div>
        <!-- Collapsible content -->

      </div>         
      <!--/.Navbar-->

         <!--pagination change station-->
<form method="GET">
    <label for="paginate-by" style="margin-right: 1%;">
        <h1>Items per page: </h1>
    </label>
    <input type="number" name="paginate_by" id="paginate-by" value="{{ items.paginator.per_page }}">

<button class="button-64" role="button" type="submit"><span class="text">Submit</span></button>
</form>



      <!--Section: Products v.3-->
      <section class="text-center mb-4">

        <!--Grid row-->
        <div class="row wow fadeIn"><!--eee-->
          {% for order in orders %}
            <!--mml-->
            <div class="orderhistory" style="margin-top: 10%; justify-content: center; margin-left: auto; margin-right: auto;">
    <!--order.author_profile_picture_url does not exist-->

                {% if order.author_profile_picture_url %}
                <a href="{{order.profile_url}}">
                    <h2>{{user.username}}</h2>
                <img src="{{ order.author_profile_picture_url }}" alt="Profile Picture" width="50" height="50">
                    </a>
                {% else %}
                <img src="{% static 'css/images/a.jpg' %}" alt="Default Avatar" width="50" height="50">
                {% endif %}
<a href="{{ order.author_profile_url }}">

            <h3>Product Name: {{ order.item }}</h3>
            <br>
            <h4>Order Date: {{ order.order_date }}</h4>
            <img src="{{order.image.url}}" alt="{{order.item}}">

<a href="{% url 'showcase:create_review' %}?item_slug={{ order.slug }}&orderitem_id={{ order.id }}" class="button-64" role="button"><span class="text">Leave Feedback</span></a>

            <br>
                    </a>
                </div>
{% endfor %}
        </div>
        <!--Grid row-->

      </section>
      <!--Section: Products v.3-->

      <!--Pagination-->
      <div class="d-flex justify-content-center wow fadeIn">
        <ul class="pagination pg-blue">
<li class="page-item {% if not items.has_previous %}disabled{% endif %}">
    {% if items.has_previous %}
        <a class="page-link" href="?page={{ items.previous_page_number }}&paginate_by={{ items.paginator.per_page }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
        </a>
    {% endif %}
</li>

<!-- Page numbers -->
{% for page in items.paginator.page_range %}
    <li class="page-item {% if page == items.number %}active{% endif %}">
        <a class="page-link" href="?page={{ page }}&paginate_by={{ items.paginator.per_page }}">{{ page }}</a>
    </li>
{% endfor %}

<!-- Arrow right -->
<li class="page-item {% if not items.has_next %}disabled{% endif %}">
    {% if items.has_next %}
        <a class="page-link" href="?page={{ items.next_page_number }}&paginate_by={{ items.paginator.per_page }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
        </a>
    {% endif %}
</li>
        </ul>
      </div>
      <!--Pagination-->
  </div>

  {% block javascript %}
    <script src="{% static 'css/js/script.js' %}"></script>
    <script src="{% static 'css/js.darkmode.js' %}"></script>
    <script src="{% static 'css/js/navbar.js' %}"></script>
    <script src="{% static 'css/js/scroll.js' %}"></script>
  {% endblock javascript %}
  </main>
  <!--Main layout-->

{% endblock content %}
