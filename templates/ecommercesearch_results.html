{% extends 'ebase.html' %}

{% load static %}


{% block content %}

<br>
<br>
<br>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(document).ready(function() {
    // Whenever a form field loses focus
    $('form input').blur(function() {
        // Check if all fields are filled
        var allFilled = true;
        $('form input').each(function() {
            if($(this).val() == '') {
                allFilled = false;
            }
        });

        // If all fields are filled, submit the form
        if(allFilled) {
            $.ajax({
                url: 'ehome.html',  // replace with your endpoint URL
                type: 'post',
                data: $('form').serialize(),
                success: function(response) {
                    // handle success
                    console.log(response);
                },
                error: function(error) {
                    // handle error
                    console.log(error);
                }
            });
        }
    });
});



    $('.filter-link').click(function(e) {
    e.preventDefault();
    var category = $(this).data('category');
    $.ajax({
        url: '/filter_items/',
        data: {
            'category': category
        },
        dataType: 'json',
        success: function (data) {
            // Update your page with the new data
        }
    });
});

</script>

<!-- Ehome Settings Form -->
<a href="{% url 'showcase:storeviewtypesnippet' %}">
<h1 style="padding-left: 40px;" title="Store View Settings">⚙️</h1>
</a>

{% if store_view_type_str == streamfilter_string %}
<!--streamlined view-->

<head>


    {% for EBackgroundImage in Titles %}
      {% if EBackgroundImage.page == 'ehome.html' %}
         <title>{{ EBackgroundImage.overtitle }}</title>
      {% endif %}
    {% endfor %}

    <style>
/* CSS */
.button-64 {
  align-items: center;
  background-image: linear-gradient(144deg,#AF40FF, #5B42F3 50%,#00DDEB);
  border: 0;
  border-radius: 8px;
  box-shadow: rgba(151, 65, 252, 0.2) 0 15px 30px -5px;
  box-sizing: border-box;
  color: #FFFFFF;
  display: flex;
  font-family: Phantomsans, sans-serif;
  font-size: 20px;
  justify-content: center;
  line-height: 1em;
  max-width: 100%;
  min-width: 140px;
  padding: 3px;
  text-decoration: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  white-space: nowrap;
  cursor: pointer;
}

.button-64:active,
.button-64:hover {
  outline: 0;
}

.button-64 span {
  background-color: rgb(5, 6, 45);
  padding: 16px 24px;
  border-radius: 6px;
  width: 100%;
  height: 100%;
  transition: 300ms;
}

.button-64:hover span {
  background: none;
}

@media (min-width: 768px) {
  .button-64 {
    font-size: 24px;
    min-width: 196px;
  }
}

        .collection-card {
    position: relative;
}

.collection-card::before {
    content: "";
    opacity: 0.1; /* Set your desired opacity here */
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: absolute;
    z-index: -1;
}

</style>
</head>
<main>
  <div class="ecommerce">
    {% for EBackgroundImage in Background %}
      <img class="ebackgroundimages" src="{{ EBackgroundImage.cover.url }}" alt="{{ EBackgroundImage.title }}">
      <div class="view overlay">
        <div class="mask rgba-white-slight"></div>
      </div>
    {% endfor %}

      {% for EBaseView in Logos %}
        <a class="logo" href="{{ EBaseView.hyperlink }}">
          <img class="imageicon" src="media/{{ EBaseView.logocover.url }}" alt="{{ EBaseView.alternate }}"
               width="145vh" height="100vh" style="z-index: 100;">
        </a>
      {% endfor %}









  <main>
    <article>

      <!--
        - #HERO
      -->

<head>
    {% for EcommerceSearchResultsView in Titles %}
      {% if EcommerceSearchResultsView.page == 'ecommercesearch_results.html' %}
        <title>{{ EcommerceSearchResultsView.overtitle }}</title>
      {% endif %}
    {% endfor %}
  <style>
.link-style {
  text-decoration: none;
  color: inherit; /* Optionally, to inherit the color from the parent */
}
</style>

</head>

<body>
    <div class="column three mobile-twelve section_header_logo vertical-align-middle"
        style="position: -webkit-sticky; position: sticky; top: 10px; left: -10px; z-index: 100;">
        {% for EcommerceSearchResultsView in Logo %}
        {% if EcommerceSearchResultsView.page == 'ecommercesearch_results.html' %}

        <a class="logo" href="{{EcommerceSearchResultsView.hyperlink}}">
          <img class="imageicon" src="{{EcommerceSearchResultsView.logocover.url}}"
                alt="{{EcommerceSearchResultsView.alternate}}" style="length: {{EcommerceSearchResultsView.length_for_resize}}px; width: {{EcommerceSearchResultsView.width_for_resize}}px;"></a>
        {% endif %}
        {% endfor %}
    </div>


        {% for EcommerceSearchResultsView in Background %}
    {% if EcommerceSearchResultsView.page == "ecommercesearch_results.html" %}
<div class="poste1" style="background-image: url({{ EcommerceSearchResultsView.cover.url }}); background-position: fixed; background-size: cover;">
    {% endif %}
{% endfor %}

<div class = "searcherbackground">
  <div class = "searcher">
  <ul>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>


      <h1 class = "banh1t" style="margin-left: 2%;">Pokemon Products</h1>


      {% for item in object_list.item_list %}

    <section class="text-center mb-4">
      <!-- Products grid -->
      <div class="row wow fadeIn">
          <div class="col-lg-3 col-md-6 mb-4">
            <div class="card">
              <div class="view overlay">
                <a href="{{ item.get_absolute_url }}">
                  <img class="hunt" src="{{ item.image.url }}" class="card-img-top" alt="{{ item.image.url }}" title="{{ item.image.url }}">
                  <div class="mask rgba-white-slight"></div>
                </a>
              </div>
              <div class="card-body text-center">
                <h5 class="itemtitle">{{ item.title }}</h5>


                <h5 class="itemtitle">
                  <strong>
                    {{ item.item_name }}
                    <span class="badge badge-pill {% if item.get_label_display == 'New' %} danger-color {% else %} primary-color {% endif %}">
                      {{ item.get_label_display }}
                    </span>
                  </strong>
                </h5>
                <h4 class="font-weight-bold blue-text">
                  <strong>
                    ${% if item.discount_price %}
                      {{ item.discount_price }}
                    {% else %}
                      {{ item.price }}
                    {% endif %}
                  </strong>
                </h4>
                  {% if item.user %}
                  <h5 class="itemtitle">Fulfilled by {{ item.user }}</h5>
                  {% else %}
                  <h5 class="itemtitle"><b>PokeTrove Official Product</b></h5>
                  {% endif %}
              </div>
            </div>
          </div>
      </div>
    </section>
      {% empty %}
          <h3 style="margin-left: 2%;">No results found.</h3>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      {% endfor %}


  </ul>
  </div>
</div>
</div>
</body>



  <!--
    - custom js link
  -->
  <script src="./assets/js/script.js"></script>

  <!--
    - ionicon link
  -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</body>

</html>

{% endif %}
{% endblock content %}